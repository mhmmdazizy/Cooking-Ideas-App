<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Masak Apa?</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#FF6B6B" />
    <script src="https://unpkg.com/feather-icons"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  </head>
  <body>
    <header class="app-header">
      <div class="header-left">
        <h1 id="page-title">Mau masak apa?</h1>
        <p id="page-subtitle" class="fade-text">Yuk cek isi kulkasmu</p>
      </div>
      <div class="header-right">
        <button class="notif-btn" onclick="toggleNotifSheet()">
          <i data-feather="bell"></i>
          <span class="notif-dot"></span>
        </button>
      </div>
    </header>

    <main class="content-sheet">
      <section id="home" class="page active">
        <div class="search-wrap">
          <h3>Bahan tersedia:</h3>
        </div>
        <div class="ingredients-grid" id="ingredients-container"></div>

        <button class="find-btn" onclick="findRecipes()">
          Cari Resep <i data-feather="arrow-right"></i>
        </button>

        <div id="recipe-results" style="display: none; margin-top: 20px">
          <div class="divider"></div>
          <h4>Hasil Pencarian:</h4>
          <div id="results-container"></div>
        </div>
      </section>

      <section id="explore" class="page">
        <div class="masonry-grid" id="explore-container"></div>
      </section>

      <section id="menu-page" class="page">
        <div class="masonry-grid" id="menu-container"></div>
      </section>

      <section id="favorit" class="page">
        <div class="empty-state">
          <i
            data-feather="heart"
            style="width: 40px; height: 40px; color: #ddd"
          ></i>
          <p>Belum ada resep favorit.</p>
        </div>
      </section>

      <section id="profile-page" class="page">
        <div class="profile-card-inner">
          <div class="avatar-large" id="profile-avatar">G</div>
          <h3 id="profile-name">Guest User</h3>
          <p id="profile-email">Login untuk akses penuh</p>
          <div id="auth-btn-container" style="margin-top: 10px"></div>
        </div>

        <div class="menu-list">
          <div class="menu-item" onclick="openPopup('bantuan')">
            <i data-feather="help-circle"></i> Bantuan & FAQ
          </div>
          <div class="menu-item" onclick="toggleTheme()">
            <i data-feather="moon"></i> Mode Gelap
          </div>
          <div class="menu-item text-danger" onclick="resetData()">
            <i data-feather="trash-2"></i> Reset Data
          </div>
        </div>
      </section>
    </main>

    <div id="notif-sheet" class="bottom-sheet">
      <div class="sheet-handle"></div>
      <div class="sheet-content">
        <h3>Notifikasi</h3>
        <div class="notif-list">
          <div class="notif-item unread">
            <div class="notif-icon"><i data-feather="zap"></i></div>
            <div class="notif-text">
              <b>Resep Baru!</b>
              <p>Coba bikin Seblak Ceker Mercon yuk.</p>
              <span>Baru saja</span>
            </div>
          </div>
          <div class="notif-item">
            <div class="notif-icon"><i data-feather="info"></i></div>
            <div class="notif-text">
              <b>Update Aplikasi</b>
              <p>Tampilan baru sudah tersedia.</p>
              <span>2 jam lalu</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      id="sheet-backdrop"
      class="backdrop"
      onclick="toggleNotifSheet()"
    ></div>

    <div id="detail-view" class="detail-overlay">
      <button class="close-detail" onclick="closeDetail()">
        <i data-feather="arrow-left"></i>
      </button>
      <div class="detail-img" id="detail-img"></div>
      <div class="detail-content">
        <span class="tag" id="detail-tag">RESEP</span>
        <h2 id="detail-title">Judul</h2>
        <p id="detail-desc">Deskripsi...</p>
      </div>
    </div>

    <nav class="bottom-nav">
      <a href="#" class="nav-item active" onclick="switchPage('home')">
        <i data-feather="home"></i>
      </a>
      <a href="#" class="nav-item" onclick="switchPage('explore')">
        <i data-feather="compass"></i>
      </a>
      <a href="#" class="nav-item" onclick="switchPage('menu-page')">
        <i data-feather="book-open"></i>
      </a>
      <a href="#" class="nav-item" onclick="switchPage('favorit')">
        <i data-feather="heart"></i>
      </a>
      <a href="#" class="nav-item" onclick="switchPage('profile-page')">
        <i data-feather="user"></i>
      </a>
    </nav>

    <script src="app.js"></script>
  </body>
</html>
